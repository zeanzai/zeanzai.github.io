import{e as s}from"./app.66ae8b80.js";import{_ as a}from"./plugin-vue_export-helper.21dcd24c.js";const n={},e=s(`<p>https://blog.csdn.net/Mr_Yang__/article/details/84133783</p><h2 id="_1-nginx\u670D\u52A1\u81EA\u542F\u52A8" tabindex="-1"><a class="header-anchor" href="#_1-nginx\u670D\u52A1\u81EA\u542F\u52A8" aria-hidden="true">#</a> 1. Nginx\u670D\u52A1\u81EA\u542F\u52A8</h2><h3 id="_1-\u7F16\u5199\u670D\u52A1\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_1-\u7F16\u5199\u670D\u52A1\u6587\u4EF6" aria-hidden="true">#</a> 1. \u7F16\u5199\u670D\u52A1\u6587\u4EF6</h3><p>vi /usr/lib/systemd/system/nginx.service \u6CE8\u610F\u4FEE\u6539\u5B89\u88C5\u8DEF\u5F84</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[Unit]
Description=nginx - high performance web server
After=network.target remote-fs.target nss-lookup.target

[Service]
Type=forking
ExecStart=/softwares/nginx-1.12.2/sbin/nginx -c /softwares/nginx-1.12.2/conf/nginx.conf
ExecReload=/softwares/nginx-1.12.2/sbin/nginx -s reload
ExecStop=/softwares/nginx-1.12.2/sbin/nginx -s stop

[Install]
WantedBy=multi-user.target
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_2-\u8D4B\u4E88754\u6743\u9650" tabindex="-1"><a class="header-anchor" href="#_2-\u8D4B\u4E88754\u6743\u9650" aria-hidden="true">#</a> 2. \u8D4B\u4E88754\u6743\u9650</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@200 system<span class="token punctuation">]</span><span class="token comment"># chmod 754 /usr/lib/systemd/system/nginx.service</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-\u8BBE\u7F6E\u5F00\u673A\u81EA\u542F\u52A8" tabindex="-1"><a class="header-anchor" href="#_3-\u8BBE\u7F6E\u5F00\u673A\u81EA\u542F\u52A8" aria-hidden="true">#</a> 3. \u8BBE\u7F6E\u5F00\u673A\u81EA\u542F\u52A8</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@200 system<span class="token punctuation">]</span><span class="token comment"># systemctl enable nginx.service</span>
Created symlink from /etc/systemd/system/multi-user.target.wants/nginx.service to /usr/lib/systemd/system/nginx.service.
<span class="token punctuation">[</span>root@200 system<span class="token punctuation">]</span><span class="token comment"># systemctl enable nginx.service</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_4-\u5176\u4ED6\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_4-\u5176\u4ED6\u547D\u4EE4" aria-hidden="true">#</a> 4. \u5176\u4ED6\u547D\u4EE4</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl <span class="token punctuation">[</span>start <span class="token operator">|</span> <span class="token builtin class-name">enable</span> <span class="token operator">|</span> disable <span class="token operator">|</span> status <span class="token operator">|</span> restart <span class="token operator">|</span> stop<span class="token punctuation">]</span> nginx.service
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_2-\u5176\u4ED6\u8F6F\u4EF6\u5F00\u673A\u81EA\u542F\u52A8" tabindex="-1"><a class="header-anchor" href="#_2-\u5176\u4ED6\u8F6F\u4EF6\u5F00\u673A\u81EA\u542F\u52A8" aria-hidden="true">#</a> 2. \u5176\u4ED6\u8F6F\u4EF6\u5F00\u673A\u81EA\u542F\u52A8</h2><h3 id="_1-\u7F16\u5199\u670D\u52A1\u6587\u4EF6-1" tabindex="-1"><a class="header-anchor" href="#_1-\u7F16\u5199\u670D\u52A1\u6587\u4EF6-1" aria-hidden="true">#</a> 1. \u7F16\u5199\u670D\u52A1\u6587\u4EF6</h3><h4 id="_1-php-fpm" tabindex="-1"><a class="header-anchor" href="#_1-php-fpm" aria-hidden="true">#</a> 1. php-fpm</h4><p>vi /usr/lib/systemd/system/php-fpm.service</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
<span class="token assign-left variable">Description</span><span class="token operator">=</span>php
<span class="token assign-left variable">After</span><span class="token operator">=</span>network.target remote-fs.target nss-lookup.target

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">Type</span><span class="token operator">=</span>forking
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/sbin/php-fpm

<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
<span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>multi-user.target
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="_2-redis" tabindex="-1"><a class="header-anchor" href="#_2-redis" aria-hidden="true">#</a> 2. redis</h4><p>vi /usr/lib/systemd/system/redis.service</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
<span class="token assign-left variable">Description</span><span class="token operator">=</span>Redis
<span class="token assign-left variable">After</span><span class="token operator">=</span>network.target remote-fs.target nss-lookup.target

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">Type</span><span class="token operator">=</span>forking
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/softwares/redis-4.0.6/bin/redis-server /softwares/redis-4.0.6/bin/redis.conf
<span class="token assign-left variable">ExecStop</span><span class="token operator">=</span>kill -INT <span class="token string">&#39;cat /var/run/redis_6379.pid&#39;</span>
<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
<span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>multi-user.target
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="_3-tomcat7" tabindex="-1"><a class="header-anchor" href="#_3-tomcat7" aria-hidden="true">#</a> 3. tomcat7</h4><h5 id="_1-tomcat7-bin-\u4E0B\u9762\u65B0\u5EFAsetenv-sh\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_1-tomcat7-bin-\u4E0B\u9762\u65B0\u5EFAsetenv-sh\u914D\u7F6E" aria-hidden="true">#</a> 1. tomcat7/bin \u4E0B\u9762\u65B0\u5EFAsetenv.sh\u914D\u7F6E</h5><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>#add tomcat pid
CATALINA_PID=&quot;$CATALINA_BASE/tomcat.pid&quot;
#add java opts
JAVA_OPTS=&quot;-server-XX:PermSize=256M -XX:MaxPermSize=1024m -Xms512M -Xmx1024M-XX:MaxNewSize=256m&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="_2-\u4FEE\u6539bin-setclasspath-sh" tabindex="-1"><a class="header-anchor" href="#_2-\u4FEE\u6539bin-setclasspath-sh" aria-hidden="true">#</a> 2. \u4FEE\u6539bin/setclasspath.sh</h5><p>export JAVA_HOME=/softwares/jdk1.8.0_111</p><p>export JRE_HOME=/softwares/jdk1.8.0_111/jre</p><h5 id="_3-\u65B0\u5EFAservice\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_3-\u65B0\u5EFAservice\u6587\u4EF6" aria-hidden="true">#</a> 3. \u65B0\u5EFAservice\u6587\u4EF6</h5><p>vi /usr/lib/systemd/system/tomcat7.service</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
<span class="token assign-left variable">Description</span><span class="token operator">=</span>Tomcat
<span class="token assign-left variable">After</span><span class="token operator">=</span>syslog.targetnetwork.target remote-fs.target nss-lookup.target

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">Type</span><span class="token operator">=</span>forking
<span class="token assign-left variable">PIDFile</span><span class="token operator">=</span>/softwares/apache-tomcat-7.0.70/bin/tomcat.pid
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/softwares/apache-tomcat-7.0.70/bin/startup.sh
<span class="token assign-left variable">ExecStop</span><span class="token operator">=</span>kill -INT <span class="token string">&#39;cat /softwares/apache-tomcat-7.0.70/bin/tomcat.pid&#39;</span>
<span class="token assign-left variable">PrivateTmp</span><span class="token operator">=</span>true

<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
<span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>multi-user.target
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="_4-apollo1-8-0" tabindex="-1"><a class="header-anchor" href="#_4-apollo1-8-0" aria-hidden="true">#</a> 4. apollo1.8.0</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
<span class="token assign-left variable">Description</span><span class="token operator">=</span>apollo1.8.0
<span class="token assign-left variable">After</span><span class="token operator">=</span>syslog.targetnetwork.target remote-fs.target nss-lookup.target

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">Type</span><span class="token operator">=</span>forking
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/setup/apollo1.8.0/start.sh
<span class="token assign-left variable">ExecStop</span><span class="token operator">=</span>/usr/setup/apollo1.8.0/shutdown.sh
<span class="token assign-left variable">PrivateTmp</span><span class="token operator">=</span>true

<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
<span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>multi-user.target
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_2-\u8D4B\u4E88\u6743\u9650" tabindex="-1"><a class="header-anchor" href="#_2-\u8D4B\u4E88\u6743\u9650" aria-hidden="true">#</a> 2. \u8D4B\u4E88\u6743\u9650</h3><h3 id="_3-\u5F00\u542F\u81EA\u52A8\u91CD\u542F" tabindex="-1"><a class="header-anchor" href="#_3-\u5F00\u542F\u81EA\u52A8\u91CD\u542F" aria-hidden="true">#</a> 3. \u5F00\u542F\u81EA\u52A8\u91CD\u542F</h3><p>systemctl enable XXX.service</p><h3 id="_4-\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#_4-\u6D4B\u8BD5" aria-hidden="true">#</a> 4. \u6D4B\u8BD5</h3><p>\u6D4B\u8BD5\u65F6\u9700\u8981\u4FDD\u8BC1\u8F6F\u4EF6\u5DF2\u7ECF\u5904\u4E8E\u5173\u95ED\u72B6\u6001\u3002</p><h2 id="\u53C2\u8003" tabindex="-1"><a class="header-anchor" href="#\u53C2\u8003" aria-hidden="true">#</a> \u53C2\u8003</h2><ul><li>http://blog.csdn.net/tiantang_1986/article/details/53704966</li><li>http://blog.csdn.net/fresh123456/article/details/50925038</li><li>http://blog.csdn.net/chenxiabinffff/article/details/51374635</li></ul><hr><img style="border:1px red solid;display:block;margin:0 auto;" src="https://tianqingxiaozhu.oss-cn-shenzhen.aliyuncs.com/img/qrcode.jpg" alt="\u5FAE\u4FE1\u516C\u4F17\u53F7">`,39);function t(r,p){return e}var c=a(n,[["render",t],["__file","services-autorun.html.vue"]]);export{c as default};
