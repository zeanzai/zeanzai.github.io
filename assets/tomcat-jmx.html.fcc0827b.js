import{c as a,a as e,F as s,e as n,d as l,o}from"./app.aaf87aa5.js";import{_ as r}from"./plugin-vue_export-helper.21dcd24c.js";const c={},i=n(`<ol><li>\u4E0B\u8F7D\u4F9D\u8D56\u5305\uFF0C\u5E76\u5C06\u4F9D\u8D56\u5305\u653E\u7F6E\u5230Tomcat\u7684lib\u5E93\u5185</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cd /usr/setup/latestTomcat/lib
wget https://archive.apache.org/dist/tomcat/tomcat-8/v8.5.32/bin/extras/catalina-jmx-remote.jar
chown tomcat: catalina-jmx-remote.jar
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>\u521B\u5EFA\u7528\u6237\u548C\u5BC6\u7801\u6587\u4EF6</li></ol><p><code>vi /usr/setup/latestTomcat/conf/jmxremote.access</code> \u6DFB\u52A0\uFF1A <code>admin readwrite</code></p><p><code>vi /usr/setup/latestTomcat/conf/jmxremote.password</code> \u6DFB\u52A0\uFF1A <code>admin admin</code></p><p><code>chown tomcat: jmxremote.*</code></p><ol start="3"><li>\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6</li></ol><p><code>vi /usr/setup/latestTomcat/conf/server.xml</code></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;Server port=&quot;8005&quot; shutdown=&quot;SHUTDOWN&quot;&gt;
	&lt;!-- \u6DFB\u52A0\u4EE5\u4E0B\u5185\u5BB9 --&gt;
	&lt;Listener className=&quot;org.apache.catalina.mbeans.JmxRemoteLifecycleListener&quot; rmiRegistryPortPlatform=&quot;10001&quot; rmiServerPortPlatform=&quot;10002&quot; /&gt;
&lt;/Server&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="4"><li>\u4FEE\u6539\u73AF\u5883\u53D8\u91CF</li></ol><p><code>vi /usr/setup/latestTomcat/bin/setenv.sh</code></p><p>\u6DFB\u52A0\u4EE5\u4E0B\u5185\u5BB9\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>JAVA_OPTS=&quot;-Dcom.sun.management.jmxremote.ssl=false
  -Dcom.sun.management.jmxremote.password.file=/usr/setup/latestTomcat/conf/jmxremote.password
  -Dcom.sun.management.jmxremote.access.file=/usr/setup/latestTomcat/conf/jmxremote.access
  -Djava.rmi.server.hostname=10.168.1.200&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>chown tomcat: /usr/setup/latestTomcat/bin/setenv.sh</code></p><ol start="5"><li>\u5F00\u653E\u7AEF\u53E3</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>firewall-cmd --add-port=10001/tcp --permanent
firewall-cmd --add-port=10002/tcp --permanent
firewall-cmd --reload
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="6"><li>\u91CD\u542FTomcat</li></ol><p><code>systemctl restart tomcat</code></p><ol start="7"><li>\u6253\u5F00visualvm</li></ol><p><code>%JAVA_HOME%\\bin\\jvisualvm.exe</code></p><ol start="8"><li>\u53F3\u952ERemote</li></ol><p>\u8F93\u5165ip</p><ol start="9"><li>\u53F3\u952Ejmx</li></ol><p>\u8F93\u5165\u7AEF\u53E3\u3001\u7528\u6237\u540D\u3001\u5BC6\u7801\u3001\u52FE\u9009\u4FDD\u5B58\u8BC1\u4E66\u548C\u4E0D\u4F7F\u7528ssl</p><ol start="10"><li>\u53C2\u8003</li></ol>`,25),m=l("https://my.oschina.net/weidedong/blog/787203 "),d=["src"];function p(t,u){return o(),a(s,null,[i,e("p",null,[m,e("img",{style:{border:"1px red solid",display:"block",margin:"0 auto"},src:t.$withBase("/qrcode.jpg"),alt:"\u5FAE\u4FE1\u516C\u4F17\u53F7"},null,8,d)])],64)}var v=r(c,[["render",p],["__file","tomcat-jmx.html.vue"]]);export{v as default};
