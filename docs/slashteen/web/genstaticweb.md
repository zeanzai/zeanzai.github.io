---
title: "ç½‘ç«™æ­å»ºè¿‡ç¨‹"
category:
  - web
tag:
  - vuepress
---

## 1. ä¸ºä»€ä¹ˆè¦æ­å»ºä¸ªäººç½‘ç«™

- æ–°åª’ä½“æ—¶ä»£ï¼Œ`å·¨å¤§çº¢åˆ©`
- `ä¸ªäººIP`ï¼Œæé«˜è‡ªå·±è¡Œä¸šè¯è¯­æƒåŠå½±å“åŠ›
- æœ€å¥½çš„å­¦ä¹ æ–¹æ³•å°±æ˜¯è¾“å‡ºï¼Œä¸ªäººç½‘ç«™æ˜¯ä¸€ä¸ª`è¾“å‡ºå±•ç¤ºçš„çª—å£`
- å¯ä»¥å½“ä½œä¸€ä¸ª`å…è´¹çš„ç¬”è®°æœ¬ğŸ““`ï¼Œä¸ä½†å¯ä»¥å…è´¹ï¼Œæ›´é‡è¦çš„æ˜¯æ¯ä¸€ç¯‡æ–‡ç« éƒ½å¯ä»¥æŸ¥çœ‹æäº¤è®°å½•ã€å›æ»šç­‰


## 2. åšå®¢å·¥å…·å¯¹æ¯”

å‚è§ï¼š [11ä¸ªæœ€æµè¡Œçš„é™æ€(åšå®¢)ç½‘ç«™ç”Ÿæˆå·¥å…·](https://www.cnblogs.com/buyz/p/10935831.html)


## 3. è§„åˆ’

å·²ç»æœ‰ä¸€ä¸ªä¸ªäººç½‘ç«™äº†ï¼Œ https://zeanzai.me ï¼Œç°åœ¨æŠŠé¡¹ç›®æ”¾åˆ° https://zeanzai.me/vpblog ä¸‹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ç°åœ¨GitHubä¸Šåˆ›å»ºä¸€ä¸ªç©ºä»“åº“ã€‚

æ­¤å¤–ï¼Œè¿™ä¸ªä»“åº“è¿˜å¼•ç”¨äº†GitHubç”¨æ¥è‡ªåŠ¨é›†æˆçš„å·¥ä½œæµï¼Œæƒ³è¦å®ç°åªè¦æäº¤äº†ä»£ç ï¼Œå°±è‡ªåŠ¨å‘å¸ƒåˆ°å¯¹åº”åˆ†æ”¯ã€å¹¶å®Œæˆç½‘ç«™éƒ¨ç½²çš„åŠŸèƒ½ã€‚


## 4. ç¯å¢ƒå‡†å¤‡

- å‡†å¤‡å·¥ä½œ
  - nodeç‰ˆæœ¬ï¼š v16.15.0
  - npmç‰ˆæœ¬ï¼š 8.5.5
  - yarnç‰ˆæœ¬ï¼š 1.22.15
  - vscodeç‰ˆæœ¬ï¼š å®‰è£…èƒ½ä½¿ç”¨å³å¯
  - gitï¼š å·¥å…·ï¼Œå®‰è£…èƒ½ä½¿ç”¨å³å¯
  - githubè´¦å·ï¼š è¿™å°±ä¸ç”¨å¤šè¯´äº†å§
  - åŸŸåï¼š [optional] è¿™ä¸ªçœ‹è‡ªå·±éœ€è¦ï¼Œå¦‚æœè§‰å¾—GitHubPagesä¹Ÿå¯ä»¥ä½¿ç”¨çš„ï¼Œä¸æ³¨å†Œä¹Ÿè¡Œ
  - vscode æ’ä»¶åˆ—è¡¨ï¼š `markdown all in one` å’Œ `markdown-index`


## 5. åˆå§‹åŒ–é¡¹ç›®

### 5.1. å…‹éš†ä»“åº“

```
git clone git@github.com:zeanzai/vpblog.git
```

### 5.2. ç”Ÿæˆé¡¹ç›®æ–‡ä»¶

è¿›å…¥vpblogæ–‡ä»¶å¤¹å†…ï¼Œæ‰§è¡Œå‘½ä»¤

```
âœ  vpblog git:(master) npm create vuepress-theme-hope@next docs
? Select a language to display / é€‰æ‹©æ˜¾ç¤ºè¯­è¨€ ç®€ä½“ä¸­æ–‡
è·å–ä¾èµ–çš„æœ€æ–°ç‰ˆæœ¬...
ç”Ÿæˆ package.json...
? è®¾ç½®åº”ç”¨åç§° vpblog
? è®¾ç½®åº”ç”¨ç‰ˆæœ¬å· 2.0.0
? è®¾ç½®åº”ç”¨æè¿° zeanzai's vpblog
? è®¾ç½®åè®® MIT
? é¡¹ç›®éœ€è¦ç”¨åˆ°å¤šè¯­è¨€ä¹ˆ? No
? æ˜¯å¦éœ€è¦ä¸€ä¸ªè‡ªåŠ¨éƒ¨ç½²æ–‡æ¡£åˆ° GitHub Pages çš„å·¥ä½œæµï¼Ÿ Yes
ç”Ÿæˆæ¨¡æ¿...
? é€‰æ‹©ä½ æƒ³ä½¿ç”¨çš„æº å›½å†…é•œåƒæº
å®‰è£…ä¾èµ–...
è¿™å¯èƒ½éœ€è¦æ•°åˆ†é’Ÿï¼Œè¯·è€å¿ƒç­‰å¾….
æˆ‘ä»¬æ— æ³•æ­£ç¡®è¾“å‡ºå­è¿›ç¨‹çš„è¿›åº¦æ¡ï¼Œæ‰€ä»¥è¿›ç¨‹å¯èƒ½ä¼šçœ‹ä¼¼æœªå“åº”
```

é€‰æ‹©â€œç®€ä½“ä¸­æ–‡â€ï¼Œå¹¶è‡ªåŠ¨è¿è¡Œã€‚å‘ç°è¿è¡Œå‡ºé”™

```
(node:39578) UnhandledPromiseRejectionWarning: Error: Command failed with exit code 1: npm run docs:dev
TypeError: createBundler is not a function
    at resolveBundler (/Users/shawnwang/Documents/Source/Temp/zeanzai/node_modules/@vuepress/core/lib/app/resolveBundler.js:8:12)
    at Object.app.dev (/Users/shawnwang/Documents/Source/Temp/zeanzai/node_modules/@vuepress/core/lib/app/createDevApp.js:11:57)
    at dev (/Users/shawnwang/Documents/Source/Temp/zeanzai/node_modules/@vuepress/cli/lib/commands/dev/createDev.js:51:33)
    at St (/Users/shawnwang/.npm/_npx/0c8cce8a7eeb7e99/node_modules/create-vuepress-theme-hope/lib/index.js:2:29971)
    at /Users/shawnwang/.npm/_npx/0c8cce8a7eeb7e99/node_modules/create-vuepress-theme-hope/lib/index.js:2:40141
    at processTicksAndRejections (internal/process/task_queues.js:97:5)
    at async re.<anonymous> (/Users/shawnwang/.npm/_npx/0c8cce8a7eeb7e99/node_modules/create-vuepress-theme-hope/lib/index.js:9:23325)
```

### 5.3. ä¿®æ”¹å·¥ç¨‹é…ç½®æ–‡ä»¶


ä¿®æ”¹package.jsonæ–‡ä»¶

```
-"vuepress": "^2.0.0-beta.41",  
+"vuepress": "2.0.0-beta.39",  
```

### 5.4. æ”¹ç”¨yarn

å…ˆåˆ é™¤åŸæ¥çš„è‡ªåŠ¨ç”Ÿæˆçš„æ¨¡å—ï¼Œä¹‹ååœ¨æ¸…ç†npmç¼“å­˜ï¼Œä¹‹åå…¨éƒ¨ä½¿ç”¨yarnä½œä¸ºåŒ…ç®¡ç†å·¥å…·ï¼ˆä¼šç”Ÿæˆyarn.lockæ–‡ä»¶ï¼‰

```
rm -rf node_modules package-lock.json && npm cache clean --force
yarn install
```


### 5.5. ä¿®æ”¹ç½‘ç«™é…ç½®æ–‡ä»¶

ç”±äºè¦æŠŠé¡¹ç›®æ”¾åˆ° https://zeanzai.me/vpblog è¿™ä¸ªè·¯å¾„ä¸‹ï¼Œå› æ­¤è¦ä¿®æ”¹ config.ts ä¸­é…ç½®ï¼š

```
// æ ¹è·¯å¾„ï¼Œå³urlä¸Šéƒ½ä¼šåŠ ä¸Šè¿™ä¸ª
base: "/vpblog/",
```

### 5.6. æŸ¥çœ‹æœ¬åœ°æ•ˆæœ

æµè§ˆå™¨ä¸­è¾“å…¥ï¼š localhost:8080/vpblog å³å¯é¢„è§ˆæ•ˆæœ

## 6. è¿ç§»æ–‡ç« 

è¿™ä¸€æ­¥éª¤éœ€è¦æ³¨æ„ä¸¤ä¸ªåœ°æ–¹ï¼Œä¸€ä¸ªæ˜¯è¦åœ¨æ¯ä¸€ä¸ªmdæ–‡ä»¶ä¸­æ·»åŠ å¥½fontfomatterï¼Œå¦ä¸€ä¸ªæ˜¯è¦æå‰è§„åˆ’å¥½æ¯ä¸€ç¯‡æ–‡ç« ä¸­å¯èƒ½éœ€è¦æ·»åŠ çš„å…¬å…±éƒ¨åˆ†ï¼Œæ¯”å¦‚æˆ‘è¦åœ¨æ¯ä¸€ç¯‡æ–‡ç« æœ€ä¸‹é¢æ·»åŠ ä¸€ä¸ªå…¬ä¼—å·çš„äºŒç»´ç ã€‚

ç¬¬äºŒæ­¥éª¤ä¸­ï¼Œå¯ä»¥å…ˆåœ¨æŸä¸€ä¸ªé¡µé¢ä¸­è°ƒæ•´å¥½è¦æ·»åŠ çš„å›¾ç‰‡çš„æ ·å¼ï¼Œç„¶åä½¿ç”¨ç†Ÿæ‚‰çš„Javaå†™ä¸€ä¸ªç¨‹åºï¼Œä¸ºæ¯ä¸€ä¸ªmdæ–‡ä»¶çš„æœ«å°¾æ·»åŠ ä¸€è¡Œä»£ç å³å¯ã€‚


## 7. æ¨é€è‡³è¿œç«¯

### 7.1. ä¿®æ”¹è‡ªåŠ¨ç”Ÿæˆçš„é›†æˆé…ç½®æ–‡ä»¶

æ›¿æ¢ deploy-docs.ym ã€‚

### 7.2. æ¨é€åˆ°è¿œç¨‹ä»“åº“å¹¶éªŒè¯å·¥ä½œæµ

ç„¶åæŸ¥çœ‹ action å‘ç°æ‰§è¡Œæ—¶æŠ¥é”™ï¼š

```
...
/usr/bin/git add --all .
/usr/bin/git checkout -b github-pages-deploy-action/znzqityw6
Switched to a new branch 'github-pages-deploy-action/znzqityw6'
/usr/bin/git commit -m Deploying to gh-pages from @ zeanzai/vpblog@067754a2e5ca6e12dc4e502b74cc9d26c997b4e9 ğŸš€ --quiet --no-verify
Force-pushing changes...
/usr/bin/git push --force ***github.com/zeanzai/vpblog.git github-pages-deploy-action/znzqityw6:gh-pages
remote: Permission to zeanzai/vpblog.git denied to github-actions[bot].
fatal: unable to access 'https://github.com/zeanzai/vpblog.git/': The requested URL returned error: 403
Running post deployment cleanup jobsâ€¦ ğŸ—‘ï¸
/usr/bin/git checkout -B github-pages-deploy-action/znzqityw6
Reset branch 'github-pages-deploy-action/znzqityw6'
/usr/bin/chmod -R +rw github-pages-deploy-action-temp-deployment-folder
/usr/bin/git worktree remove github-pages-deploy-action-temp-deployment-folder --force
Error: The deploy step encountered an error: The process '/usr/bin/git' failed with exit code 128 âŒ
Notice: Deployment failed! âŒ

```

ä¿®æ”¹ å·¥ä½œæµ æƒé™

![](../img/workflow.png)

å‘ç°æ‰§è¡ŒæˆåŠŸ

::: tip è¯¦è§ï¼š
https://github.com/zeanzai/vpblog/settings/actions
:::

### 7.3. é…ç½®ä»“åº“

- ä¿®æ”¹pagesçš„é…ç½®

![](../img/pages.png)

### 7.4. éªŒè¯

è®¿é—®ç½‘å€ï¼ŒæˆåŠŸã€‚


## 8. [optional]è§£æåŸŸå

`// TODO`

æˆ‘ä»¬å·²ç»ä½¿ç”¨GitHub Pageså®Œæˆäº†ä¸ªäººåšå®¢ç½‘ç«™çš„æ­å»ºï¼Œä¹Ÿæœ‰äº†å±äºè‡ªå·±çš„åŸŸåã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦è‡ªå®šä¹‰åŸŸåï¼Œé‚£æˆ‘ä»¬åº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ



## 9. æ€»ç»“

- åˆ›å»ºé¡¹ç›®å¹¶å®Œæˆé…ç½®ï¼Œæœ¬åœ°è¿›è¡ŒéªŒè¯
- æ¨é€è‡³è¿œç«¯
- è§£æåŸŸå
- å‘å¸ƒæ–‡ç« æµç¨‹æ€»ç»“
  1. æ‰“å¼€vscodeï¼Œåˆ›å»ºä¸€ä¸ªmdæ–‡ä»¶
  2. ä¹¦å†™æ–‡æ¡£åä¿å­˜
  3. æ‰§è¡Œéƒ¨ç½²è„šæœ¬
  4. æŸ¥çœ‹éƒ¨ç½²æ•ˆæœ


## 10. å‚è€ƒ

- https://docs.github.com/cn/actions/security-guides/encrypted-secrets
- https://github.com/zeanzai/vuepress/settings/actions

## Appendix 01ï¼šæ–‡ç« ç¼–å†™è§„èŒƒ

å‚è§ï¼š [è¿™é‡Œ](./writearticle.md)

## Appendix 02ï¼šå¤šå°ç”µè„‘åä½œ

å¦‚æœä¸Šé¢çš„é…ç½®æ˜¯åœ¨æˆ‘ä»¬çš„ä¸€å°ç”µè„‘ä¸Šå®Œæˆçš„ï¼Œä½†æ˜¯æˆ‘ä»¬ç°åœ¨æƒ³è¦åœ¨å¦å¤–ä¸€å°ç”µè„‘ä¸Šé‡æ–°å®‰è£…ç¯å¢ƒï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸¤å°ç”µè„‘è¿›è¡Œåä½œäº†ï¼Œé‚£æˆ‘ä»¬åº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæ¢å¥è¯æ¥è¯´ï¼Œå¦‚æœä½ æƒ³è¦åœ¨æ–°çš„ç”µè„‘ä¸Šåä½œï¼Œéœ€è¦æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚ä»¥åå°±éƒ½å¯ä»¥ä½¿ç”¨yarnè¿›è¡ŒåŒ…çš„ç®¡ç†äº†ã€‚

```
rm -rf node_modules package-lock.json && npm cache clean --force
yarn install
```

## Appendix 03ï¼šGitä½¿ç”¨

- åœ¨windowsä¸Šæäº¤æ—¶ï¼Œå‡ºç°22ç«¯å£æ‹’ç»æœåŠ¡ã€åŸå› æ˜¯æ¢¯å­å®‰è£…æˆäº†æœåŠ¡æ¨¡å¼å¯¼è‡´dnså‡ºç°å¼‚å¸¸ã€‘
  - æ’æŸ¥æ¢¯å­çš„å½±å“ï¼Œåº”è¯¥æ˜¯è£…äº†æœåŠ¡ä¹‹åï¼Œå¯¼è‡´ç½‘ç»œå¼‚å¸¸ï¼›
  - é‡æ–°ç”Ÿæˆå…¬é’¥ï¼›
  - é‡æ–°æµ‹è¯•ï¼š ssh -T git@github.com ç„¶åyeså³å¯


---

<img style="border:1px red solid; display:block; margin:0 auto;" src="https://tianqingxiaozhu.oss-cn-shenzhen.aliyuncs.com/img/qrcode.jpg" alt="å¾®ä¿¡å…¬ä¼—å·" />

