---
"title": "代理模式"
category:
  - "design-pattern"
tag:
  - "proxy"
---

// todo

## 业务场景

老王上班路上遇到了路怒症司机，路怒症司机一直别老王的车。于是老王把记下车牌后把这个路怒症司机告上了法庭。开庭当天，老王请了一个律师，律师姓高（姑且就叫小高吧）。小高说『这事我专业，让我来，你只需要配合我出庭就行了』，老王心里乐开了花……

从上面的现实场景中可以看到：

1. 老王应付不来，因为有可能会输掉官司，所以老王请了小高来完成；
2. 打官司是一件非常专业的事情，并且有很多流程，比如前期需要准备诉状、固定证据、辩护、判决、执行判决结果......
3. 如果老王自己去打官司，那么就需要老王忙前忙后，自己走完所有流程，毕竟老王不是专业律师。但是老王请小高来帮忙打官司，老王只需要在辩护阶段露个面就行了，剩下的工作全部都由小高律师来帮忙完成，这就是所谓的专门的人来干专门的事；
4. 老王请小高来帮忙打官司，这个过程就是委托过程，老王是委托人，小高是代理人；

我们把上面这个场景抽象出来：

1. 打官司这个动作，就是老王和小高共同完成的事情，类比到程序中可以看做一个接口，老王和小高都要实现这个接口；
2. 老王只需要在辩护阶段出面，类比到代码中就是老王只需要实现辩护方法即可，而打官司的其他流程，就需要小高来完成了，因此小高这个代理人还需要实现其他方法；

下面我们进行实现：

Litigation

People

Lawyer





打官司是一般情况都是要请一个专业的律师来完成代理工作的，所谓代理就是自己不去做，而是请一个某一个专门的人来做专门的事情。一方面，这件专门的事情不那么简单，往往需要做很多事情，而委托人只需要专注属于自己的事情就行了，剩余的那些事情就让律师出面。真正需要打官司的人被称为委托人，律师就是委托人的代理人，所以从程序的角度来讲，真正需要执行一些业务的对象就是委托对象，而代替委托对象完成业务逻辑的对象就是代理对象。

把现实中的场景抽象成程序，【打官司】这个动作就是一个接口，【】代理模式就是代理对象和委托对象实现了同样的接口，而代理对象所实现的





<img style="border:1px red solid; display:block; margin:0 auto;" :src="$withBase('/qrcode.jpg')" alt="微信公众号" />


