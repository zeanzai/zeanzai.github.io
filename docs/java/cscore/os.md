---
"title": "操作系统"
category:
  - "cscore"
tag:
  - "操作系统"
---

## 进程、线程、协程

- 进程： 操作系统进行资源管理的基本单位；受操作系统限制；
- 线程： 程序运行的基本单位；受限于进程；
- 协程： 组织好的代码流程；受限于线程；


一个应用程序可能会有多个进程，比如Windows操作系统中idea的运行，由于idea需要使用很多资源，针对每个资源都有其操作的进程，因此启动idea就会生成一个进程组，这个进程组里面包含所有使用到的资源的进行，比如jdk、idea自身的访问进程、操作系统的cmd访问进程等。

在进行深入研究时，发现进程的粒度划分粒度太大，因此又提出线程的概念。线程是程序运行的基本单位，它受限于操作系统的调度算法和cpu运行时间片的划分。线程可以通过切换时间片来最大限度的压榨cpu的运算能力。

类比Java中线程的使用，可以知道一个任务从头到尾是运行在一个线程中的，过程中即便是上下文切换，也不会使用其他线程来运行，这就造成了线程上下文切换带来的资源损耗和重复布置和销毁上下文环境的问题，针对这个问题，又提出协程的概念。协程可以大概理解为一些组织好的代码流程，这些代码流程可以使用任意的空闲线程，并且也可以理解为在这些代码流程运行过程中不会涉及到上下文切换问题。也可以理解为，协程是把线程中任务的概念进行抽象，然后把一个任务独占一个线程的运行方式调整为把单个任务划分为多个步骤，然后再把线程与任务的绑定关系进行解绑，让代码程序来管理任务的每一个步骤，线程就可以被多个任务的多个步骤进行复用。这样划分的好处是划分粒度更小，相应的并发度就会越高。本质上还是极限压榨CPU算力的手段。

## 并发、并行

- 并发： 多个任务或多个线程轮流使用单个CPU的运行时间片，由于CPU运行时间片极短，所以在广义上看像是一段时间内多个任务同时发生一样。
- 并行： 同一时刻，多个线程同时运行在多个CPU上，也就是说，同一时刻，每一个线程独占一个CPU核心。





---
<br />
<br />
<br />
<img style="border:1px red solid; display:block; margin:0 auto;" src="https://tianqingxiaozhu.oss-cn-shenzhen.aliyuncs.com/img/qrcode.jpg" alt="微信公众号" />


